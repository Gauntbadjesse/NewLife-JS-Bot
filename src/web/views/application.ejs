<%- include('partials/header', {user: user, isAdmin: true}) %>
  <div class="content-container">
    <div class="page-hero">
      <h1>üìÑ Application Review</h1>
      <p class="intro-text">Review and process this whitelist application</p>
    </div>

    <div class="card" style="max-width:700px">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:24px">
        <h3 style="margin:0">Applicant Details</h3>
        <span class="status warning">Pending</span>
      </div>
      
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:24px">
        <div>
          <label style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted)">Discord ID</label>
          <p style="font-weight:600;color:var(--text-primary);margin-top:4px" class="mono"><%= app.discordId %></p>
        </div>
        <div>
          <label style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted)">Platform</label>
          <p style="font-weight:600;color:var(--text-primary);margin-top:4px"><%= app.platform %></p>
        </div>
        <div>
          <label style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted)">Minecraft Username</label>
          <p style="font-weight:600;color:var(--primary);margin-top:4px"><%= app.playerName %></p>
        </div>
        <div>
          <label style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted)">Age</label>
          <p style="font-weight:600;color:var(--text-primary);margin-top:4px"><%= app.age %></p>
        </div>
      </div>

      <div style="border-top:1px solid var(--border-subtle);padding-top:20px;margin-bottom:20px">
        <div style="margin-bottom:16px">
          <label style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted)">How did you find us?</label>
          <p style="color:var(--text-secondary);margin-top:6px;line-height:1.6"><%= app.whereFound || '‚Äî' %></p>
        </div>
        <div style="margin-bottom:16px">
          <label style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted)">Why do you want to join?</label>
          <p style="color:var(--text-secondary);margin-top:6px;line-height:1.6"><%= app.whyJoin || '‚Äî' %></p>
        </div>
        <div>
          <label style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text-muted)">What will you bring to the server?</label>
          <p style="color:var(--text-secondary);margin-top:6px;line-height:1.6"><%= app.bring || '‚Äî' %></p>
        </div>
      </div>

      <div style="border-top:1px solid var(--border-subtle);padding-top:16px;margin-bottom:24px">
        <p class="muted" style="font-size:0.85rem">Submitted: <%= app.createdAt ? new Date(app.createdAt).toLocaleString() : '‚Äî' %></p>
      </div>

      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <a class="btn btn-primary" href="/admin/approve/<%= app._id %>" onclick="return confirm('Approve this application? This will create a linked account.')">‚úì Approve</a>
        <a class="btn btn-danger" href="/admin/deny/<%= app._id %>" onclick="return confirm('Deny this application?')">‚úó Deny</a>
        <a class="btn btn-secondary" href="/admin">‚Üê Back to Admin</a>
      </div>
    </div>
  </div>
<%- include('partials/footer') %>
